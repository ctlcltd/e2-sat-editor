name: e2-sat-editor
version: 1.8.1
title: e2 SAT Editor
summary: "Satellite channel lists editor: Enigma2, Neutrino, dreambox"
license: GPL-3.0-or-later
adopt-info: e2-sat-editor
confinement: strict
base: core24
apps:
  e2-sat-editor:
    extensions:
      - kde-neon-6
    desktop: usr/share/applications/e2-sat-editor.desktop
    command: usr/bin/e2-sat-editor
    plugs:
      - home
      - removable-media
      - network
      - cups
parts:
  e2-sat-editor:
    parse-info: 
      - usr/share/metainfo/io.github.ctlcltd.e2se.metainfo.xml
    plugin: cmake
    source: https://github.com/ctlcltd/e2-sat-editor.git
    source-type: git
    source-commit: e7ed8404cf492f474496a2c623a02bb35d2d55fa
    source-subdir: src
    cmake-generator: Ninja
    cmake-parameters:
      - -DCMAKE_BUILD_TYPE=Release
      - -DCMAKE_INSTALL_PREFIX=/usr
      - -DRELEASE_MEDIUM=snapstore
      - -DWITHOUT_CLI=ON
    build-packages:
      - libcurl4-openssl-dev
    stage-packages:
      - libcurl4t64
      - libcups2t64
      - cups-client
    override-pull: |
      craftctl default
      sed -i 's|Icon=e2-sat-editor|Icon=/usr/share/icons/hicolor/256x256/apps/e2-sat-editor\.png|' dist/xdg/e2-sat-editor.desktop
